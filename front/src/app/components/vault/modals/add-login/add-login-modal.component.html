<div id="add-login-modal" class="add-login-modal">
    <h1 mat-dialog-title>Add Login</h1>
    <mat-icon class="close-button close-dialog-button" (click)="closeDialog()">close</mat-icon>
    <mat-dialog-content>
        <form [formGroup]="form">
            <mat-form-field class="full-width" appearance="fill" floatLabel="always">
                <mat-label>Title</mat-label>
                <input matInput type="text" formControlName="titleFormControl" required>
                @if (titleFormControl.hasError('maxlength')) {
                <mat-error>
                    Too long : {{ titleFormControl.value?.length }} / {{ characterLimit }}
                </mat-error>
                }
            </mat-form-field>
            <br>

            <mat-form-field class="full-width" appearance="fill" floatLabel="always">
                <mat-label>Identifier : email or username</mat-label>
                <input matInput type="text" formControlName="identifierFormControl">
                @if (identifierFormControl.hasError('maxlength')) {
                <mat-error>
                    Too long : {{ identifierFormControl.value?.length }} / {{ characterLimit }}
                </mat-error>
                }
            </mat-form-field>
            <br>

            <div id="password-field" class="password-field">
                <div id="password-input">
                    <mat-form-field class="full-width modal-field" appearance="fill" floatLabel="always">
                        <mat-label>Password</mat-label>
                        <input matInput type="text" id="password" formControlName="passwordFormControl"
                            [type]="showPassword ? 'text' : 'password'">
                        <button mat-icon-button matSuffix (click)="togglePasswordVisibility()">
                            <mat-icon>{{ showPassword ? 'visibility' : 'visibility_off' }}</mat-icon>
                        </button>
                        @if (passwordFormControl.hasError('maxlength')) {
                        <mat-error>
                            Too long : {{ passwordFormControl.value?.length }} / {{ passwordCharacterLimit}}
                        </mat-error>
                        }
                    </mat-form-field>
                </div>
                <div id="generate-password-button-container">
                    <button mat-raised-button id="generate-password-button" (click)="generatePassword()">
                        <mat-icon class="icon-display">autorenew</mat-icon>
                    </button>
                </div>
            </div>
            <br>

            <mat-form-field class="full-width" appearance="fill" floatLabel="always">
                <mat-label>Url</mat-label>
                <input matInput type="text" formControlName="urlFormControl">
                @if (urlFormControl.hasError('maxlength')) {
                <mat-error>
                    Too long : {{ urlFormControl.value?.length }} / {{ characterLimit }}
                </mat-error>
                }
            </mat-form-field>
            <br>

            <mat-form-field class="full-width" appearance="fill" floatLabel="always">
                <mat-label>Notes</mat-label>
                <textarea matInput formControlName="notesFormControl"></textarea>
                <mat-hint>Length limit : {{ notesCharacterCount }} / 2000</mat-hint>
            </mat-form-field>
            <br>

            <button style="position: relative; float: inline-end;" mat-raised-button color="primary" type="submit"
                [disabled]="!form.valid || loading" (click)="onSubmit()">Add Login</button>
        </form>
    </mat-dialog-content>
</div>